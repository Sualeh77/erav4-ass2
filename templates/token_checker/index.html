{% extends "base.html" %}

{% block title %}Token Length Checker{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-12">
            <div class="d-flex align-items-center mb-4">
                <a href="{{ url_for('index') }}" class="btn btn-outline-secondary me-3">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </a>
                <h1 class="display-5 mb-0">
                    <i class="fas fa-calculator me-3"></i>Token Length Checker
                </h1>
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm mb-4">
                <div class="card-header text-white" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-edit me-2"></i>Enter Text for Token Analysis
                    </h4>
                </div>
                <div class="card-body">
                    <form action="{{ url_for('token_checker.analyze_text') }}" method="post">
                        <div class="mb-4">
                            <label for="text" class="form-label">Text to Analyze</label>
                            <textarea class="form-control" id="text" name="text" rows="8" 
                                    placeholder="Enter a paragraph or any text here. The tool will count tokens by splitting on spaces and provide detailed analysis..." 
                                    required></textarea>
                            <div class="form-text">Enter any text you want to analyze for token count and statistics.</div>
                        </div>

                        <div class="mb-4">
                            <label for="method" class="form-label">Tokenization Method</label>
                            <select class="form-select" id="method" name="method">
                                <option value="whitespace" selected>Whitespace (Split by spaces)</option>
                                <option value="punctuation">Remove Punctuation</option>
                                <option value="alphanumeric">Alphanumeric Only</option>
                                <option value="words_only">Words Only (No Numbers)</option>
                            </select>
                            <div class="form-text">Choose how you want to tokenize the text.</div>
                        </div>

                        <button type="submit" class="btn btn-lg w-100" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border: none; color: white;">
                            <i class="fas fa-chart-bar me-2"></i>Analyze Tokens
                        </button>
                    </form>
                </div>
            </div>

            <!-- Sample Texts -->
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-lightbulb me-2"></i>Sample Texts
                    </h4>
                </div>
                <div class="card-body">
                    <p>Try these sample texts to see how tokenization works:</p>
                    
                    <div class="mb-3">
                        <h6>Sample 1: Simple Sentence</h6>
                        <div class="alert alert-light">
                            <code onclick="copyToTextarea(this.innerText)" style="cursor: pointer;">
                                The quick brown fox jumps over the lazy dog.
                            </code>
                        </div>
                    </div>

                    <div class="mb-3">
                        <h6>Sample 2: Complex Text</h6>
                        <div class="alert alert-light">
                            <code onclick="copyToTextarea(this.innerText)" style="cursor: pointer;">
                                Natural Language Processing (NLP) is a fascinating field! It combines computer science, AI, and linguistics. Tokens are fundamental units in NLP - they're like building blocks of text.
                            </code>
                        </div>
                    </div>

                    <div class="mb-3">
                        <h6>Sample 3: Mixed Content</h6>
                        <div class="alert alert-light">
                            <code onclick="copyToTextarea(this.innerText)" style="cursor: pointer;">
                                Hello World! Today is 2024-01-15. I have $100 in my account. Contact me at email@example.com or call (555) 123-4567.
                            </code>
                        </div>
                    </div>

                    <small class="text-muted">Click on any sample text to copy it to the text area above.</small>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.alert code:hover {
    background-color: #e9ecef;
}
</style>
{% endblock %}

{% block scripts %}
<script>
function copyToTextarea(text) {
    document.getElementById('text').value = text;
    // Scroll to the form
    document.getElementById('text').scrollIntoView({ behavior: 'smooth' });
    // Focus on textarea
    document.getElementById('text').focus();
}
</script>
{% endblock %}
